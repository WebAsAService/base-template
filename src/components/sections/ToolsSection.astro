---
// Tools Section Component
const toolCategories = [
  {
    color: "primary",
    iconPath: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1.93.82 1.62 2.02 1.62 1.19 0 1.78-.63 1.78-1.53 0-.83-.6-1.46-2.03-1.73-1.87-.35-3.51-1.17-3.51-3.17 0-1.49 1.12-2.78 2.9-3.09V5h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-1.96.68-1.96 1.53 0 .82.65 1.34 2.08 1.68 2.43.56 3.44 1.54 3.44 3.18 0 1.61-1.34 2.71-3.23 3.23z",
    name: "Finance Tools",
    tools: [
      { name: "QuickBooks", logo: "/images/logos/tools/finance_tools/Quickbooks.png" },
      { name: "Stripe", logo: "/images/logos/tools/finance_tools/Stripe.png" },
      { name: "Ramp", logo: "/images/logos/tools/finance_tools/Ramp.png" },
      { name: "Oracle", logo: "/images/logos/tools/finance_tools/Oracle.png" }
    ]
  },
  {
    color: "teal",
    iconPath: "M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c.37-.06.74-.1 1.13-.1.99 0 1.93.21 2.78.58.95.32 1.96 1.04 1.96 1.85V18h-4.5v-1.61c0-.83-.23-1.61-.63-2.29zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z",
    name: "HR & Payroll",
    tools: [
      { name: "Gusto", logo: "/images/logos/tools/hr_and_payroll/Gusto.png" },
      { name: "Deel", logo: "/images/logos/tools/hr_and_payroll/Deel.png" },
      { name: "ADP", logo: "/images/logos/tools/hr_and_payroll/ADP.png" },
      { name: "Bamboo", logo: "/images/logos/tools/hr_and_payroll/Bamboo.png" }
    ]
  },
  {
    color: "amber",
    iconPath: "M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z",
    name: "Ops & ERP",
    tools: [
      { name: "Microsoft Dynamics", logo: "/images/logos/tools/ops_and_ERP/Dynamics 365.png" },
      { name: "Sage", logo: "/images/logos/tools/ops_and_ERP/Sage.png" }
    ]
  },
  {
    color: "indigo",
    iconPath: "M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z",
    name: "Analytics",
    tools: [
      { name: "Looker", logo: "/images/logos/tools/analytics/Looker.png" },
      { name: "Datarails", logo: "/images/logos/tools/analytics/Datarails.png" },
      { name: "HubSpot", logo: "/images/logos/tools/analytics/Hubspot.png" },
      { name: "Salesforce", logo: "/images/logos/tools/analytics/Salesforce.png" }
    ]
  }
];

// Flatten all tools for the horizontal scroll
const allTools = toolCategories.flatMap(category => 
  category.tools.map(tool => ({
    name: tool.name,
    logo: tool.logo,
    category: category.name,
    iconPath: category.iconPath,
    color: category.color
  }))
);

// Duplicate tools for infinite scroll effect
const duplicatedTools = [...allTools, ...allTools];
---

<section id="tools" class="py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="max-w-6xl mx-auto">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">Tools We Work With</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        We leverage industry-leading tools and technologies to deliver accurate, efficient, and scalable solutions for your business.
      </p>
    </div>

    <!-- Infinite scrolling tools carousel -->
    <div class="tools-carousel-container relative mb-8 overflow-hidden">
      <div class="tools-carousel-track flex space-x-6 py-4" id="tools-carousel">
        {duplicatedTools.map((tool, index) => {
          return (
            <div class={`tool-card flex-shrink-0 bg-white p-5 rounded-lg shadow-md border-t-4 border-${tool.color}-500 w-48 h-32 flex flex-col items-center justify-center transition-transform hover:scale-105`}>
              <img src={tool.logo} alt={tool.name} class="h-12 mb-2 object-contain" />
              <div class="text-sm text-gray-500">{tool.category}</div>
            </div>
          );
        })}
      </div>
      
      <!-- Gradient fade effects -->
      <div class="absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-gray-50 to-transparent pointer-events-none z-10"></div>
      <div class="absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-gray-50 to-transparent pointer-events-none z-10"></div>
    </div>

    </div>
  </div>
</section>

<style>
  /* Infinite carousel animation */
  .tools-carousel-track {
    animation: scroll-left 40s linear infinite;
    width: max-content;
  }
  
  /* Pause animation on hover */
  .tools-carousel-container:hover .tools-carousel-track {
    animation-play-state: paused;
  }
  
  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  /* Custom colors for tool cards */
  .border-primary-500 {
    border-color: var(--color-primary-500, #3b82f6);
  }
  .border-teal-500 {
    border-color: #14b8a6;
  }
  .border-amber-500 {
    border-color: #f59e0b;
  }
  .border-indigo-500 {
    border-color: #6366f1;
  }
  
  /* Category pill backgrounds */
  .bg-primary-100 {
    background-color: var(--color-primary-100, #dbeafe);
  }
  .bg-teal-100 {
    background-color: #ccfbf1;
  }
  .bg-amber-100 {
    background-color: #fef3c7;
  }
  .bg-indigo-100 {
    background-color: #e0e7ff;
  }
  
  /* Category pill text */
  .text-primary-700 {
    color: var(--color-primary-700, #1d4ed8);
  }
  .text-teal-700 {
    color: #0f766e;
  }
  .text-amber-700 {
    color: #b45309;
  }
  .text-indigo-700 {
    color: #4338ca;
  }
  
  /* Accessibility and performance optimizations */
  @media (prefers-reduced-motion: reduce) {
    .tools-carousel-track {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      opacity: 1;
    }
  }
  
  /* Improve performance by promoting to GPU layer */
  .tools-carousel-track {
    will-change: transform;
    backface-visibility: hidden;
    perspective: 1000px;
  }
</style>
