---
// PulseBeams.astro - CSS-only implementation of Aceternity Pulse Beams
interface Props {
  buttonText?: string;
  buttonLink?: string;
  buttonClass?: string;
  showButton?: boolean;
}

const {
  buttonText = "Get Started",
  buttonLink = "#",
  buttonClass = "bg-secondary-500 hover:bg-secondary-600",
  showButton = true,
} = Astro.props;
---

<style>
  /* Pulse Beams Animation Styles */
  @keyframes pulse {
    0%,
    100% {
      opacity: 0;
    }
    50% {
      opacity: 0.8;
    }
  }

  @keyframes gradient-flow-1 {
    0% {
      stroke-dashoffset: -1000;
    }
    100% {
      stroke-dashoffset: 1000;
    }
  }

  @keyframes gradient-flow-2 {
    0% {
      stroke-dashoffset: -1000;
    }
    100% {
      stroke-dashoffset: 1000;
    }
  }

  @keyframes gradient-flow-3 {
    0% {
      stroke-dashoffset: -2000;
    }
    100% {
      stroke-dashoffset: 2000;
    }
  }

  @keyframes gradient-flow-4 {
    0% {
      stroke-dashoffset: -1000;
    }
    100% {
      stroke-dashoffset: 1000;
    }
  }

  @keyframes gradient-flow-5 {
    0% {
      stroke-dashoffset: -1000;
    }
    100% {
      stroke-dashoffset: 1000;
    }
  }

  .pulse-beam {
    opacity: 0.4;
    stroke-width: 1px;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    filter: drop-shadow(0 0 2px var(--color-secondary-400, #18CCFC));
  }

  .pulse-beam-1 {
    animation: gradient-flow-1 4s ease-in-out infinite;
    animation-delay: -0.5s;
  }

  .pulse-beam-2 {
    animation: gradient-flow-2 4s ease-in-out infinite;
    animation-delay: -1s;
  }

  .pulse-beam-3 {
    animation: gradient-flow-3 4s ease-in-out infinite;
    animation-delay: -1.5s;
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
  }

  .pulse-beam-4 {
    animation: gradient-flow-4 4s ease-in-out infinite;
    animation-delay: -2s;
  }

  .pulse-beam-5 {
    animation: gradient-flow-5 4s ease-in-out infinite;
    animation-delay: -2.5s;
  }

  .pulse-dot {
    animation: pulse 3s ease-in-out infinite;
    filter: blur(1.5px) drop-shadow(0 0 5px var(--color-secondary-400, #18CCFC));
  }

  .pulse-dot-1 {
    animation-delay: -0.8s;
  }

  .pulse-dot-2 {
    animation-delay: -1.6s;
  }

  .pulse-dot-3 {
    animation-delay: -2.4s;
  }

  .pulse-dot-4 {
    animation-delay: -3.2s;
  }

  .pulse-dot-5 {
    animation-delay: -4s;
  }

  /* Button Styles */
  .pulse-button {
    position: relative;
    z-index: 10;
    transition: all 0.3s ease;
    overflow: hidden;
  }

  .pulse-button-glow {
    position: absolute;
    inset: 0;
    overflow: hidden;
    border-radius: 9999px;
  }

  .pulse-button-glow::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 9999px;
    background: radial-gradient(
      75% 100% at 50% 0%,
      var(--color-secondary-400, rgba(56, 189, 248, 0.6)) 0%,
      transparent 75%
    );
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  .pulse-button:hover .pulse-button-glow::before {
    opacity: 1;
  }
</style>

<div
  class="flex h-full relative items-center justify-center antialiased"
>
  <!-- Network Background Layer -->
  <div class="absolute inset-0 bg-primary-900 opacity-70"></div>
  
  <!-- Optional Button in Center -->
  {
    showButton && (
      <div class="relative z-10">
        <a
          href={buttonLink}
          class={`pulse-button ${buttonClass} no-underline group cursor-pointer relative shadow-2xl shadow-zinc-900 rounded-full p-px text-xs font-semibold leading-6 text-white inline-flex items-center justify-center`}
        >
          <span class="inline-flex items-center justify-center text-sm sm:text-base md:text-lg font-medium">
            {buttonText}
          </span>
        </a>
      </div>
    )
  }

  <!-- Pulse Beams SVG -->
  <div
    class="absolute inset-0 flex items-center justify-center pointer-events-none"
  >
    <svg
      width="858"
      height="434"
      viewBox="0 0 858 434"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="flex flex-shrink-0"
    >
      <!-- Base Paths - Exact paths from Aceternity -->
      <path
        d="M269 220.5H16.5C10.9772 220.5 6.5 224.977 6.5 230.5V398.5"
        stroke="rgba(255,255,255,0.1)"></path>
      <path
        d="M568 200H841C846.523 200 851 195.523 851 190V40"
        stroke="rgba(255,255,255,0.1)"></path>
      <path
        d="M425.5 274V333C425.5 338.523 421.023 343 415.5 343H152C146.477 343 142 347.477 142 353V426.5"
        stroke="rgba(255,255,255,0.1)"></path>
      <path
        d="M493 274V333.226C493 338.749 497.477 343.226 503 343.226H760C765.523 343.226 770 347.703 770 353.226V427"
        stroke="rgba(255,255,255,0.1)"></path>
      <path
        d="M380 168V17C380 11.4772 384.477 7 390 7H414"
        stroke="rgba(255,255,255,0.1)"></path>

      <!-- Gradient Beams - Exact paths from Aceternity -->
      <path
        class="pulse-beam pulse-beam-1"
        d="M269 220.5H16.5C10.9772 220.5 6.5 224.977 6.5 230.5V398.5"
        stroke="url(#grad1)"></path>
      <path
        class="pulse-beam pulse-beam-2"
        d="M568 200H841C846.523 200 851 195.523 851 190V40"
        stroke="url(#grad2)"></path>
      <path
        class="pulse-beam pulse-beam-3"
        d="M425.5 274V333C425.5 338.523 421.023 343 415.5 343H152C146.477 343 142 347.477 142 353V426.5"
        stroke="url(#grad3)"></path>
      <path
        class="pulse-beam pulse-beam-4"
        d="M493 274V333.226C493 338.749 497.477 343.226 503 343.226H760C765.523 343.226 770 347.703 770 353.226V427"
        stroke="url(#grad4)"></path>
      <path
        class="pulse-beam pulse-beam-5"
        d="M380 168V17C380 11.4772 384.477 7 390 7H414"
        stroke="url(#grad5)"></path>

      <!-- Gradient Definitions -->
      <defs>
        <linearGradient
          id="grad1"
          x1="0%"
          y1="80%"
          x2="0%"
          y2="100%"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            stop-color="var(--color-secondary-400, #18CCFC)"
            stop-opacity="0"></stop>
          <stop offset="0.325" stop-color="var(--color-secondary-400, #18CCFC)"
          ></stop>
          <stop offset="0.8" stop-color="var(--color-primary-300, #6344F5)"
          ></stop>
          <stop
            offset="1"
            stop-color="var(--color-primary-300, #AE48FF)"
            stop-opacity="0"></stop>
        </linearGradient>
        <linearGradient
          id="grad2"
          x1="20%"
          y1="80%"
          x2="0%"
          y2="100%"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            stop-color="var(--color-secondary-400, #18CCFC)"
            stop-opacity="0"></stop>
          <stop offset="0.325" stop-color="var(--color-secondary-400, #18CCFC)"
          ></stop>
          <stop offset="0.8" stop-color="var(--color-primary-300, #6344F5)"
          ></stop>
          <stop
            offset="1"
            stop-color="var(--color-primary-300, #AE48FF)"
            stop-opacity="0"></stop>
        </linearGradient>
        <linearGradient
          id="grad3"
          x1="20%"
          y1="80%"
          x2="0%"
          y2="100%"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            stop-color="var(--color-secondary-400, #18CCFC)"
            stop-opacity="0"></stop>
          <stop offset="0.325" stop-color="var(--color-secondary-400, #18CCFC)"
          ></stop>
          <stop offset="0.8" stop-color="var(--color-primary-300, #6344F5)"
          ></stop>
          <stop
            offset="1"
            stop-color="var(--color-primary-300, #AE48FF)"
            stop-opacity="0"></stop>
        </linearGradient>
        <linearGradient
          id="grad4"
          x1="40%"
          y1="160%"
          x2="50%"
          y2="180%"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            stop-color="var(--color-secondary-400, #18CCFC)"
            stop-opacity="0"></stop>
          <stop offset="0.325" stop-color="var(--color-secondary-400, #18CCFC)"
          ></stop>
          <stop offset="0.8" stop-color="var(--color-primary-300, #6344F5)"
          ></stop>
          <stop
            offset="1"
            stop-color="var(--color-primary-300, #AE48FF)"
            stop-opacity="0"></stop>
        </linearGradient>
        <linearGradient
          id="grad5"
          x1="-40%"
          y1="0%"
          x2="-10%"
          y2="20%"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            stop-color="var(--color-secondary-400, #18CCFC)"
            stop-opacity="0"></stop>
          <stop offset="0.325" stop-color="var(--color-secondary-400, #18CCFC)"
          ></stop>
          <stop offset="0.8" stop-color="var(--color-primary-300, #6344F5)"
          ></stop>
          <stop
            offset="1"
            stop-color="var(--color-primary-300, #AE48FF)"
            stop-opacity="0"></stop>
        </linearGradient>
      </defs>

      <!-- Connection Points - Main dots from Aceternity plus additional network dots -->
      <circle
        class="pulse-dot pulse-dot-1"
        cx="851"
        cy="34"
        r="6.5"
        fill="var(--color-secondary-400, #18CCFC)"></circle>
      <circle
        class="pulse-dot pulse-dot-2"
        cx="770"
        cy="427"
        r="6.5"
        fill="var(--color-secondary-400, #18CCFC)"></circle>
      <circle
        class="pulse-dot pulse-dot-3"
        cx="142"
        cy="427"
        r="6.5"
        fill="var(--color-secondary-400, #18CCFC)"></circle>
      <circle
        class="pulse-dot pulse-dot-4"
        cx="6.5"
        cy="398.5"
        r="6"
        fill="var(--color-secondary-400, #18CCFC)"></circle>
      <circle
        class="pulse-dot pulse-dot-5"
        cx="420.5"
        cy="6.5"
        r="6"
        fill="var(--color-secondary-400, #18CCFC)"></circle>
      
      <!-- Additional network dots -->
      <circle class="pulse-dot pulse-dot-6" cx="200" cy="150" r="3" fill="var(--color-secondary-400, #18CCFC)" opacity="0.7"></circle>
      <circle class="pulse-dot pulse-dot-7" cx="650" cy="100" r="2" fill="var(--color-secondary-400, #18CCFC)" opacity="0.5"></circle>
      <circle class="pulse-dot pulse-dot-8" cx="400" cy="300" r="2.5" fill="var(--color-secondary-400, #18CCFC)" opacity="0.6"></circle>
      <circle class="pulse-dot pulse-dot-9" cx="300" cy="80" r="2" fill="var(--color-secondary-400, #18CCFC)" opacity="0.5"></circle>
      <circle class="pulse-dot pulse-dot-10" cx="700" cy="300" r="3" fill="var(--color-secondary-400, #18CCFC)" opacity="0.7"></circle>
      <circle class="pulse-dot pulse-dot-11" cx="100" cy="200" r="2" fill="var(--color-secondary-400, #18CCFC)" opacity="0.5"></circle>
      <circle class="pulse-dot pulse-dot-12" cx="500" cy="150" r="2.5" fill="var(--color-secondary-400, #18CCFC)" opacity="0.6"></circle>
      
      <!-- Additional connecting lines -->
      <path class="pulse-beam pulse-beam-6" d="M200 150L400 300" stroke="url(#grad1)" opacity="0.3"></path>
      <path class="pulse-beam pulse-beam-7" d="M650 100L500 150" stroke="url(#grad2)" opacity="0.3"></path>
      <path class="pulse-beam pulse-beam-8" d="M300 80L500 150" stroke="url(#grad3)" opacity="0.3"></path>
      <path class="pulse-beam pulse-beam-9" d="M700 300L500 150" stroke="url(#grad4)" opacity="0.3"></path>
      <path class="pulse-beam pulse-beam-10" d="M100 200L200 150" stroke="url(#grad5)" opacity="0.3"></path>
    </svg>
  </div>
</div>
